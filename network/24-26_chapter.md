## 24. 첫 번째 쉘 스크립트

### 24.1. 쉘 스크립트 작성 방법
1. 스크립트 작성하기.
  쉘 스크립트는 일반적인 텍스트 파일. 그래서 편집기에서 작성.  
2. 스크립트를 실행파일로 설정.
  특정 이유로 시스템은 텍스트 파일을 프로그램으로 처리하지 않기 때문에 스크립트 파일에 실행 권한을 주어야 한다.  
3. 쉘이 접근할 수 있는 장소에 저장하기.
  우리가 빠가같이 프로그램을 만들면 그 파일을 실행하기 위해서 파일 저장 위치로 이동해야 할 것이다. 그런데 `ls`, `cd`처럼 어느 곳에서나 실행되게 만들 수 있다.
  
### 24.2 스크립트 파일 포맷
중요한 작성 형식은 다음과 같다.

* `#` 뒤에 오는 문장은 모두 주석 처리된다.  
* **스크립트의 처음에는 `#!/bin/bash`와 같이 무조건 shebang이 와야 한다. shebang은 이 스크립트 파일을 해석할 인터프리터를 지정하는 것이다. 반드시 필요하다.**


### 24.3. 파일 작성하기
단순한 쉘 스크립트 파일을 만들어보자.  

#### 24.3.1. 스크립트 작성하기
```shell
#!/bin/bash

# This is my first script

echo 'hello world!'
```
`hello_world`라는 이름으로 저장한다.(꼭 끝이 _sh_로 끝나지 않아도 된다.)

#### 24.3.2. 실행 권한 부여하기
쉘스크립트 파일은 처음 만들면 텍스트 파일로 처리된다고 앞서 설명했다.  
그래서 이 파일에 실행 권한을 부여해야 한다.

```shell
chmod 755 hello_world
```
앞 자리를 7로 부여해서 당연히 실행권한 1도 부여가 되었다.  
이때 중요한 것은 **실행을 위해서는 반드시 읽기 권한이 부여가 되어 있어야 한다.**

#### 24.3.3. 쉘 특정 장소에 저장하기
일단 만든 파일을 실행해보자.

```shell
./hello_world

>>> hello world!
```

일단 잘 생은 되었다. 근데 **앞에 `./`이 붙었는데 이것은 파일의 실행경로를 지정해준 것이다.**  
그리고 지금은 이것을 붙이지 않으면 파일이 생성되지가 않는다.  이유는 다음과 같다.  

시스템은 실행 프로그램을 찾을 때 **PATH**라는 환경 변수에 등록된 경로만을 검색하는데,  
일반적으로 우리가 파일을 만든 곳은 이 변수에 포함되어 있지 않을 확률이 높다.  
그래서 **경로를 명시해줘서** 파일을 실행시키는 것이다.  
<br>

이 때 해결책은 **우리만의 실행 프로그램을 담을 경로를 만들고 그 경로를 PATH 환경변수에 추가하는 것이다.**

* 경로 만들기
```shell
cd ~
mkdir bin
mv hello_world bin
```

* 경로를 PATH에 추가하기
해당 내용을 `.bashrc`에 저장하면 쉘이 실행될 때마다 해당 내용이 적용된다.

```shell
export PATH=~/bin:"$PATH"
```
그리고 `source ~/.bashrc`를 쉘 커맨드로 입력해 `.bashrc`가 수정 사항을 적용하게 한다.